{
  "hash": "a370aec9b15ab5ca0b2c7803fcf478d7",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"DAGs and adjustment sets\"\nformat: html\neditor: visual\neditor_options: \n  chunk_output_type: console\n---\n\n# Intro\n\nR can determine the adjustment set of confounders for you if you specify the DAG. \nDescription of function adjustmentSets {dagitty}:\\ \n\n>Enumerates sets of covariates that (asymptotically) allow unbiased estimation of causal effects from observational data, assuming that the input causal graph is correct\n\n# Load libraries\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(ggdag)\n```\n:::\n\n\n# set up dag\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndag<-dagify(\n  y~ x + a + b,\n  x~ a,\n  b~ a,\n  exposure=\"x\",\n  outcome=\"y\"\n)\n\ntidy_dagitty(dag)|>\n  dag_adjustment_sets()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A DAG with 4 nodes and 5 edges\n#\n# Exposure: x\n# Outcome: y\n#\n# A tibble: 6 x 10\n  name        x      y direction to       xend   yend circular adjusted   set  \n  <chr>   <dbl>  <dbl> <fct>     <chr>   <dbl>  <dbl> <lgl>    <chr>      <chr>\n1 a     -0.693  -0.594 ->        b      0.358  -0.292 FALSE    adjusted   {a}  \n2 a     -0.693  -0.594 ->        x     -1.14   -1.60  FALSE    adjusted   {a}  \n3 a     -0.693  -0.594 ->        y     -0.0863 -1.29  FALSE    adjusted   {a}  \n4 b      0.358  -0.292 ->        y     -0.0863 -1.29  FALSE    unadjusted {a}  \n5 x     -1.14   -1.60  ->        y     -0.0863 -1.29  FALSE    unadjusted {a}  \n6 y     -0.0863 -1.29  <NA>      <NA>  NA      NA     FALSE    unadjusted {a}  \n```\n\n\n:::\n\n```{.r .cell-code}\nggdag(dag)\n```\n\n::: {.cell-output-display}\n![](15_DAG-adjustment_sets_confounders_files/figure-pdf/set up dag-1.pdf){fig-pos='H'}\n:::\n\n```{.r .cell-code}\nggdag_adjustment_set(dag)\n```\n\n::: {.cell-output-display}\n![](15_DAG-adjustment_sets_confounders_files/figure-pdf/set up dag-2.pdf){fig-pos='H'}\n:::\n\n```{.r .cell-code}\n# What if x causes b? \ndag2<-dagify(\n  y~ x + a + b,\n  x~ a,\n  b~ a+x,\n  exposure=\"x\",\n  outcome=\"y\"\n)\nggdag_adjustment_set(dag2)\n```\n\n::: {.cell-output-display}\n![](15_DAG-adjustment_sets_confounders_files/figure-pdf/set up dag-3.pdf){fig-pos='H'}\n:::\n:::\n\n\n# Session info\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsessionInfo()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nR version 4.5.0 (2025-04-11 ucrt)\nPlatform: x86_64-w64-mingw32/x64\nRunning under: Windows 11 x64 (build 26100)\n\nMatrix products: default\n  LAPACK version 3.12.1\n\nlocale:\n[1] LC_COLLATE=English_United States.utf8 \n[2] LC_CTYPE=English_United States.utf8   \n[3] LC_MONETARY=English_United States.utf8\n[4] LC_NUMERIC=C                          \n[5] LC_TIME=English_United States.utf8    \n\ntime zone: America/New_York\ntzcode source: internal\n\nattached base packages:\n[1] stats     graphics  grDevices utils     datasets  methods   base     \n\nother attached packages:\n [1] ggdag_0.2.13    lubridate_1.9.4 forcats_1.0.0   stringr_1.5.1  \n [5] dplyr_1.1.4     purrr_1.0.4     readr_2.1.5     tidyr_1.3.1    \n [9] tibble_3.2.1    ggplot2_3.5.2   tidyverse_2.0.0\n\nloaded via a namespace (and not attached):\n [1] viridis_0.6.5      utf8_1.2.4         generics_0.1.3     stringi_1.8.7     \n [5] hms_1.1.3          digest_0.6.37      magrittr_2.0.3     evaluate_1.0.3    \n [9] grid_4.5.0         timechange_0.3.0   fastmap_1.2.0      jsonlite_2.0.0    \n[13] ggrepel_0.9.6      tinytex_0.57       gridExtra_2.3      dagitty_0.3-4     \n[17] viridisLite_0.4.2  scales_1.3.0       tweenr_2.0.3       cli_3.6.4         \n[21] graphlayouts_1.2.2 rlang_1.1.6        polyclip_1.10-7    tidygraph_1.3.1   \n[25] munsell_0.5.1      cachem_1.1.0       withr_3.0.2        yaml_2.3.10       \n[29] tools_4.5.0        tzdb_0.5.0         memoise_2.0.1      colorspace_2.1-1  \n[33] boot_1.3-31        curl_6.2.2         vctrs_0.6.5        R6_2.6.1          \n[37] lifecycle_1.0.4    V8_6.0.3           MASS_7.3-65        ggraph_2.2.1      \n[41] pkgconfig_2.0.3    pillar_1.10.2      gtable_0.3.6       glue_1.8.0        \n[45] Rcpp_1.0.14        ggforce_0.4.2      xfun_0.52          tidyselect_1.2.1  \n[49] knitr_1.50         farver_2.1.2       htmltools_0.5.8.1  igraph_2.1.4      \n[53] labeling_0.4.3     rmarkdown_2.29     compiler_4.5.0    \n```\n\n\n:::\n:::\n\n",
    "supporting": [
      "15_DAG-adjustment_sets_confounders_files\\figure-pdf"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {
      "knitr": [
        "{\"type\":\"list\",\"attributes\":{},\"value\":[]}"
      ]
    },
    "preserve": null,
    "postProcess": false
  }
}